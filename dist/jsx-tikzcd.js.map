{"version":3,"file":"jsx-tikzcd.js","sources":["../src/h.js","../src/components.js","../src/render.js"],"sourcesContent":["export default function h(type, props, ...children) {\r\n    let getChildren = children => children.reduce((acc, child) => {\r\n        if (child instanceof Array) {\r\n            acc.push(...getChildren(child))\r\n        } else {\r\n            acc.push(child)\r\n        }\r\n\r\n        return acc\r\n    }, [])\r\n\r\n    return {\r\n        type,\r\n        props: props || {},\r\n        key: props && props.key,\r\n        children: getChildren(children)\r\n    }\r\n}\r\n","const needWrapChars = ['\"', ',', ']']\r\n\r\nfunction getDirection([x1, y1], [x2, y2]) {\r\n    let [dx, dy] = [x2 - x1, y2 - y1]\r\n    let signs = [dx, dy].map(Math.sign)\r\n    let directions = [['l', '', 'r'], ['u', '', 'd']]\r\n\r\n    return [dx, dy].map((d, i) => directions[i][signs[i] + 1].repeat(Math.abs(d))).join('')\r\n}\r\n\r\nfunction renderEdge(vnode, co = false) {\r\n    let {direction, alt, value} = vnode.props;\r\n    if (direction == null) return ''\r\n\r\n    let labelPosition = vnode.props.labelPosition || 'left'\r\n\r\n    if (co === !alt && labelPosition !== 'inside')\r\n        labelPosition = labelPosition === 'left' ? 'right' : 'left'\r\n\r\n    let p = ({left: '', right: \"'\", inside: ' description'})[labelPosition]\r\n    let [w1, w2] = value != null\r\n        && needWrapChars.some(c => value.includes(c))\r\n        ? ['{', '}'] : ['', '']\r\n    let valueArg = value != null ? `\"${w1}${value}${w2}\"${p}` : null\r\n    let args = [direction ? '' : null, valueArg, ...(vnode.props.args || [])].filter(x => x != null).join(', ')\r\n\r\n    return `\\\\arrow[${direction}${args}]`\r\n}\r\n\r\nexport const Node = () => {}\r\nexport const Edge = () => {}\r\n\r\nexport class Component {\r\n    constructor(props) {\r\n        this.props = props\r\n    }\r\n\r\n    render() {}\r\n}\r\n\r\nexport class Diagram extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        let getChildren = vnode => vnode.children.reduce((acc, v) => {\r\n            if (v == null) return acc\r\n\r\n            if ([Node, Edge].includes(v.type)) {\r\n                acc.push(v)\r\n            } else {\r\n                acc.push(...getChildren(v))\r\n            }\r\n\r\n            return acc\r\n        }, [])\r\n\r\n        let children = getChildren(this.props)\r\n\r\n        this.nodes = children.reduce((acc, v) => {\r\n            if (v.type !== Node || !v.key || !v.props.position)\r\n                return acc\r\n\r\n            if (!(v.key in acc)) acc[v.key] = v\r\n            else acc[v.key] = {\r\n                ...acc[v.key],\r\n                props: {\r\n                    ...acc[v.key].props,\r\n                    ...v.props\r\n                }\r\n            }\r\n\r\n            return acc\r\n        }, {})\r\n\r\n        this.edges = children.reduce((acc, v) => {\r\n            if (v.type !== Edge || !v.props.from || !v.props.to)\r\n                return acc\r\n\r\n            let [from, to] = !props.co ? ['from', 'to'] : ['to', 'from']\r\n\r\n            if (!(v.props[from] in acc)) acc[v.props[from]] = []\r\n\r\n            acc[v.props[from]].push({\r\n                ...v,\r\n                props: {\r\n                    ...v.props,\r\n                    direction: getDirection(\r\n                        this.nodes[v.props[from]].props.position,\r\n                        this.nodes[v.props[to]].props.position\r\n                    )\r\n                }\r\n            })\r\n\r\n            return acc\r\n        }, {})\r\n    }\r\n\r\n    getBounds() {\r\n        return Object.keys(this.nodes)\r\n            .map(key => this.nodes[key].props.position)\r\n            .reduce(([minX, maxX, minY, maxY], [x, y]) => [\r\n                Math.min(minX, x), Math.max(maxX, x),\r\n                Math.min(minY, y), Math.max(maxY, y)\r\n            ], [Infinity, -Infinity, Infinity, -Infinity])\r\n    }\r\n\r\n    toArray() {\r\n        let [minX, maxX, minY, maxY] = this.getBounds()\r\n        if (minX > maxX || minY > maxY) return []\r\n\r\n        let diagram = Array(maxY - minY + 1).fill().map(_ => Array(maxX - minX + 1).fill(null))\r\n\r\n        for (let key of Object.keys(this.nodes)) {\r\n            let [x, y] = this.nodes[key].props.position\r\n\r\n            diagram[y - minY][x - minX] = {\r\n                node: this.nodes[key],\r\n                edges: this.edges[key] || []\r\n            }\r\n        }\r\n\r\n        return diagram\r\n    }\r\n\r\n    render() {\r\n        let options = this.props.options == null ? '' : `[${this.props.options}]`\r\n\r\n        let cells = this.toArray().map(entries => entries.map(entry =>\r\n            entry == null ? ''\r\n            : [\r\n                (() => {\r\n                    let value = entry.node.props.value || ''\r\n                    let [w1, w2] = value.trim() === ''\r\n                        || needWrapChars.some(c => value.includes(c))\r\n                        ? ['{', '}'] : ['', '']\r\n\r\n                    return `${w1}${value}${w2}`\r\n                })(),\r\n                ...entry.edges.map(e => renderEdge(e, this.props.co))\r\n            ].join(' ')\r\n        ))\r\n\r\n        if ([].concat(...cells).every(x => x === '')) {\r\n            cells = cells.map(row => row.map(_ => '{}'))\r\n        }\r\n\r\n        if (this.props.align && cells.length > 0) {\r\n            for (let j = 0; j < cells[0].length; j++) {\r\n                let maxLength = Math.max(...cells.map(entries => entries[j].length))\r\n                for (let i = 0; i < cells.length; i++) {\r\n                    cells[i][j] = cells[i][j].padEnd(maxLength, ' ')\r\n                }\r\n            }\r\n        }\r\n\r\n        return [\r\n            `\\\\begin{tikzcd}${options}`,\r\n\r\n            cells.map(entries => entries.join(' & ')).join(' \\\\\\\\\\n'),\r\n\r\n            '\\\\end{tikzcd}'\r\n        ].join('\\n')\r\n    }\r\n}\r\n","import {Diagram, Node, Edge} from './components'\r\n\r\nfunction resolveComponents(vnode) {\r\n    if (vnode == null) return null\r\n\r\n    if (![Diagram, Node, Edge].includes(vnode.type)) {\r\n        let props = {...vnode.props, children: vnode.children}\r\n\r\n        if ('render' in vnode.type.prototype) {\r\n            return resolveComponents(new vnode.type(props).render())\r\n        } else {\r\n            return resolveComponents(vnode.type(props))\r\n        }\r\n    }\r\n\r\n    return {\r\n        ...vnode,\r\n        children: vnode.children.map(x => resolveComponents(x))\r\n    }\r\n}\r\n\r\nexport function renderToDiagram(vnode, options = {}, co = false) {\r\n    let diagramNode = resolveComponents(vnode)\r\n\r\n    if (diagramNode == null || diagramNode.type !== Diagram)\r\n        return null\r\n\r\n    return new Diagram({\r\n        ...diagramNode.props,\r\n        co: co !== !!diagramNode.props.co,\r\n        align: options.align ? options.align : false,\r\n        children: diagramNode.children\r\n    })\r\n}\r\n\r\nexport function render(vnode, options = {}, co = false) {\r\n    return renderToDiagram(vnode, options, co).render()\r\n}\r\n\r\nexport function corender(vnode, options = {}) {\r\n    return render(vnode, options, true)\r\n}\r\n"],"names":["h","type","props","children","getChildren","reduce","acc","child","Array","push","key","needWrapChars","getDirection","x1","y1","x2","y2","dx","dy","signs","map","Math","sign","directions","d","i","repeat","abs","join","renderEdge","vnode","co","direction","alt","value","labelPosition","p","left","right","inside","some","includes","c","w1","w2","valueArg","args","filter","x","Node","Edge","Component","Diagram","v","nodes","position","edges","from","to","Object","keys","minX","maxX","minY","maxY","y","min","max","Infinity","getBounds","diagram","fill","options","cells","toArray","entries","entry","node","trim","e","concat","every","row","align","length","j","maxLength","padEnd","resolveComponents","prototype","render","renderToDiagram","diagramNode","corender"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAe,SAASA,CAAT,CAAWC,IAAX,EAAiBC,KAAjB,EAAqC;sCAAVC,QAAU;gBAAA;;;QAC5CC,cAAc,SAAdA,WAAc;eAAYD,SAASE,MAAT,CAAgB,UAACC,GAAD,EAAMC,KAAN,EAAgB;gBACtDA,iBAAiBC,KAArB,EAA4B;oBACpBC,IAAJ,8BAAYL,YAAYG,KAAZ,CAAZ;aADJ,MAEO;oBACCE,IAAJ,CAASF,KAAT;;;mBAGGD,GAAP;SAP0B,EAQ3B,EAR2B,CAAZ;KAAlB;;WAUO;kBAAA;eAEIJ,SAAS,EAFb;aAGEA,SAASA,MAAMQ,GAHjB;kBAION,YAAYD,QAAZ;KAJd;;;ACXJ,IAAMQ,gBAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAtB;;AAEA,SAASC,YAAT,cAA0C;;QAAnBC,EAAmB;QAAfC,EAAe;;;QAATC,EAAS;QAALC,EAAK;;QACjCC,EADiC,GACtBF,KAAKF,EADiB;QAC7BK,EAD6B,GACbF,KAAKF,EADQ;;QAElCK,QAAQ,CAACF,EAAD,EAAKC,EAAL,EAASE,GAAT,CAAaC,KAAKC,IAAlB,CAAZ;QACIC,aAAa,CAAC,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CAAD,EAAiB,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CAAjB,CAAjB;;WAEO,CAACN,EAAD,EAAKC,EAAL,EAASE,GAAT,CAAa,UAACI,CAAD,EAAIC,CAAJ;eAAUF,WAAWE,CAAX,EAAcN,MAAMM,CAAN,IAAW,CAAzB,EAA4BC,MAA5B,CAAmCL,KAAKM,GAAL,CAASH,CAAT,CAAnC,CAAV;KAAb,EAAwEI,IAAxE,CAA6E,EAA7E,CAAP;;;AAGJ,SAASC,UAAT,CAAoBC,KAApB,EAAuC;QAAZC,EAAY,uEAAP,KAAO;uBACLD,MAAM5B,KADD;QAC9B8B,SAD8B,gBAC9BA,SAD8B;QACnBC,GADmB,gBACnBA,GADmB;QACdC,KADc,gBACdA,KADc;;QAE/BF,aAAa,IAAjB,EAAuB,OAAO,EAAP;;QAEnBG,gBAAgBL,MAAM5B,KAAN,CAAYiC,aAAZ,IAA6B,MAAjD;;QAEIJ,OAAO,CAACE,GAAR,IAAeE,kBAAkB,QAArC,EACIA,gBAAgBA,kBAAkB,MAAlB,GAA2B,OAA3B,GAAqC,MAArD;;QAEAC,IAAK,EAACC,MAAM,EAAP,EAAWC,OAAO,GAAlB,EAAuBC,QAAQ,cAA/B,EAAD,CAAiDJ,aAAjD,CAAR;;gBACeD,SAAS,IAAT,IACRvB,cAAc6B,IAAd,CAAmB;eAAKN,MAAMO,QAAN,CAAeC,CAAf,CAAL;KAAnB,CADQ,GAET,CAAC,GAAD,EAAM,GAAN,CAFS,GAEI,CAAC,EAAD,EAAK,EAAL,CAZgB;;QAU9BC,EAV8B;QAU1BC,EAV0B;;QAa/BC,WAAWX,SAAS,IAAT,SAAoBS,EAApB,GAAyBT,KAAzB,GAAiCU,EAAjC,SAAuCR,CAAvC,GAA6C,IAA5D;QACIU,OAAO,CAACd,YAAY,EAAZ,GAAiB,IAAlB,EAAwBa,QAAxB,2BAAsCf,MAAM5B,KAAN,CAAY4C,IAAZ,IAAoB,EAA1D,GAA+DC,MAA/D,CAAsE;eAAKC,KAAK,IAAV;KAAtE,EAAsFpB,IAAtF,CAA2F,IAA3F,CAAX;;wBAEkBI,SAAlB,GAA8Bc,IAA9B;;;AAGJ,AAAO,IAAMG,OAAO,SAAPA,IAAO,GAAM,EAAnB;AACP,AAAO,IAAMC,OAAO,SAAPA,IAAO,GAAM,EAAnB;;AAEP,IAAaC,SAAb;uBACgBjD,KAAZ,EAAmB;;;aACVA,KAAL,GAAaA,KAAb;;;;;iCAGK;;;;;AAGb,IAAakD,OAAb;;;qBACgBlD,KAAZ,EAAmB;;;qHACTA,KADS;;YAGXE,cAAc,SAAdA,WAAc;mBAAS0B,MAAM3B,QAAN,CAAeE,MAAf,CAAsB,UAACC,GAAD,EAAM+C,CAAN,EAAY;oBACrDA,KAAK,IAAT,EAAe,OAAO/C,GAAP;;oBAEX,CAAC2C,IAAD,EAAOC,IAAP,EAAaT,QAAb,CAAsBY,EAAEpD,IAAxB,CAAJ,EAAmC;wBAC3BQ,IAAJ,CAAS4C,CAAT;iBADJ,MAEO;wBACC5C,IAAJ,8BAAYL,YAAYiD,CAAZ,CAAZ;;;uBAGG/C,GAAP;aATuB,EAUxB,EAVwB,CAAT;SAAlB;;YAYIH,WAAWC,YAAY,MAAKF,KAAjB,CAAf;;cAEKoD,KAAL,GAAanD,SAASE,MAAT,CAAgB,UAACC,GAAD,EAAM+C,CAAN,EAAY;gBACjCA,EAAEpD,IAAF,KAAWgD,IAAX,IAAmB,CAACI,EAAE3C,GAAtB,IAA6B,CAAC2C,EAAEnD,KAAF,CAAQqD,QAA1C,EACI,OAAOjD,GAAP;;gBAEA,EAAE+C,EAAE3C,GAAF,IAASJ,GAAX,CAAJ,EAAqBA,IAAI+C,EAAE3C,GAAN,IAAa2C,CAAb,CAArB,KACK/C,IAAI+C,EAAE3C,GAAN,iBACEJ,IAAI+C,EAAE3C,GAAN,CADF;oCAGMJ,IAAI+C,EAAE3C,GAAN,EAAWR,KADlB,EAEOmD,EAAEnD,KAFT;;;mBAMGI,GAAP;SAbS,EAcV,EAdU,CAAb;;cAgBKkD,KAAL,GAAarD,SAASE,MAAT,CAAgB,UAACC,GAAD,EAAM+C,CAAN,EAAY;gBACjCA,EAAEpD,IAAF,KAAWiD,IAAX,IAAmB,CAACG,EAAEnD,KAAF,CAAQuD,IAA5B,IAAoC,CAACJ,EAAEnD,KAAF,CAAQwD,EAAjD,EACI,OAAOpD,GAAP;;wBAEa,CAACJ,MAAM6B,EAAP,GAAY,CAAC,MAAD,EAAS,IAAT,CAAZ,GAA6B,CAAC,IAAD,EAAO,MAAP,CAJT;;gBAIhC0B,IAJgC;gBAI1BC,EAJ0B;;gBAMjC,EAAEL,EAAEnD,KAAF,CAAQuD,IAAR,KAAiBnD,GAAnB,CAAJ,EAA6BA,IAAI+C,EAAEnD,KAAF,CAAQuD,IAAR,CAAJ,IAAqB,EAArB;;gBAEzBJ,EAAEnD,KAAF,CAAQuD,IAAR,CAAJ,EAAmBhD,IAAnB,cACO4C,CADP;oCAGWA,EAAEnD,KADT;+BAEeU,aACP,MAAK0C,KAAL,CAAWD,EAAEnD,KAAF,CAAQuD,IAAR,CAAX,EAA0BvD,KAA1B,CAAgCqD,QADzB,EAEP,MAAKD,KAAL,CAAWD,EAAEnD,KAAF,CAAQwD,EAAR,CAAX,EAAwBxD,KAAxB,CAA8BqD,QAFvB;;;;mBAOZjD,GAAP;SAnBS,EAoBV,EApBU,CAAb;;;;;;oCAuBQ;;;mBACDqD,OAAOC,IAAP,CAAY,KAAKN,KAAjB,EACFlC,GADE,CACE;uBAAO,OAAKkC,KAAL,CAAW5C,GAAX,EAAgBR,KAAhB,CAAsBqD,QAA7B;aADF,EAEFlD,MAFE,CAEK;;oBAAEwD,IAAF;oBAAQC,IAAR;oBAAcC,IAAd;oBAAoBC,IAApB;;;oBAA4BhB,CAA5B;oBAA+BiB,CAA/B;;uBAAsC,CAC1C5C,KAAK6C,GAAL,CAASL,IAAT,EAAeb,CAAf,CAD0C,EACvB3B,KAAK8C,GAAL,CAASL,IAAT,EAAed,CAAf,CADuB,EAE1C3B,KAAK6C,GAAL,CAASH,IAAT,EAAeE,CAAf,CAF0C,EAEvB5C,KAAK8C,GAAL,CAASH,IAAT,EAAeC,CAAf,CAFuB,CAAtC;aAFL,EAKA,CAACG,QAAD,EAAW,CAACA,QAAZ,EAAsBA,QAAtB,EAAgC,CAACA,QAAjC,CALA,CAAP;;;;qCAQM;6BACyB,KAAKC,SAAL,EADzB;;gBACDR,IADC;gBACKC,IADL;gBACWC,IADX;gBACiBC,IADjB;;gBAEFH,OAAOC,IAAP,IAAeC,OAAOC,IAA1B,EAAgC,OAAO,EAAP;;gBAE5BM,UAAU9D,MAAMwD,OAAOD,IAAP,GAAc,CAApB,EAAuBQ,IAAvB,GAA8BnD,GAA9B,CAAkC;uBAAKZ,MAAMsD,OAAOD,IAAP,GAAc,CAApB,EAAuBU,IAAvB,CAA4B,IAA5B,CAAL;aAAlC,CAAd;;;;;;;qCAEgBZ,OAAOC,IAAP,CAAY,KAAKN,KAAjB,CAAhB,8HAAyC;wBAAhC5C,GAAgC;;8DACxB,KAAK4C,KAAL,CAAW5C,GAAX,EAAgBR,KAAhB,CAAsBqD,QADE;wBAChCP,CADgC;wBAC7BiB,CAD6B;;4BAG7BA,IAAIF,IAAZ,EAAkBf,IAAIa,IAAtB,IAA8B;8BACpB,KAAKP,KAAL,CAAW5C,GAAX,CADoB;+BAEnB,KAAK8C,KAAL,CAAW9C,GAAX,KAAmB;qBAF9B;;;;;;;;;;;;;;;;;mBAMG4D,OAAP;;;;iCAGK;;;;gBACDE,UAAU,KAAKtE,KAAL,CAAWsE,OAAX,IAAsB,IAAtB,GAA6B,EAA7B,SAAsC,KAAKtE,KAAL,CAAWsE,OAAjD,MAAd;;gBAEIC,QAAQ,KAAKC,OAAL,GAAetD,GAAf,CAAmB;uBAAWuD,QAAQvD,GAAR,CAAY;2BAClDwD,SAAS,IAAT,GAAgB,EAAhB,GACE,CACG,YAAM;4BACC1C,QAAQ0C,MAAMC,IAAN,CAAW3E,KAAX,CAAiBgC,KAAjB,IAA0B,EAAtC;;qCACeA,MAAM4C,IAAN,OAAiB,EAAjB,IACRnE,cAAc6B,IAAd,CAAmB;mCAAKN,MAAMO,QAAN,CAAeC,CAAf,CAAL;yBAAnB,CADQ,GAET,CAAC,GAAD,EAAM,GAAN,CAFS,GAEI,CAAC,EAAD,EAAK,EAAL,CAJhB;;4BAEEC,EAFF;4BAEMC,EAFN;;oCAMOD,EAAV,GAAeT,KAAf,GAAuBU,EAAvB;qBANJ,EADF,2BASKgC,MAAMpB,KAAN,CAAYpC,GAAZ,CAAgB;+BAAKS,WAAWkD,CAAX,EAAc,OAAK7E,KAAL,CAAW6B,EAAzB,CAAL;qBAAhB,CATL,GAUAH,IAVA,CAUK,GAVL,CAFgD;iBAAZ,CAAX;aAAnB,CAAZ;;gBAeI,cAAGoD,MAAH,iCAAaP,KAAb,GAAoBQ,KAApB,CAA0B;uBAAKjC,MAAM,EAAX;aAA1B,CAAJ,EAA8C;wBAClCyB,MAAMrD,GAAN,CAAU;2BAAO8D,IAAI9D,GAAJ,CAAQ;+BAAK,IAAL;qBAAR,CAAP;iBAAV,CAAR;;;gBAGA,KAAKlB,KAAL,CAAWiF,KAAX,IAAoBV,MAAMW,MAAN,GAAe,CAAvC,EAA0C;2CAC7BC,CAD6B;wBAE9BC,YAAYjE,KAAK8C,GAAL,+BAAYM,MAAMrD,GAAN,CAAU;+BAAWuD,QAAQU,CAAR,EAAWD,MAAtB;qBAAV,CAAZ,EAAhB;yBACK,IAAI3D,IAAI,CAAb,EAAgBA,IAAIgD,MAAMW,MAA1B,EAAkC3D,GAAlC,EAAuC;8BAC7BA,CAAN,EAAS4D,CAAT,IAAcZ,MAAMhD,CAAN,EAAS4D,CAAT,EAAYE,MAAZ,CAAmBD,SAAnB,EAA8B,GAA9B,CAAd;;;;qBAHH,IAAID,IAAI,CAAb,EAAgBA,IAAIZ,MAAM,CAAN,EAASW,MAA7B,EAAqCC,GAArC,EAA0C;0BAAjCA,CAAiC;;;;mBAQvC,qBACeb,OADf,EAGHC,MAAMrD,GAAN,CAAU;uBAAWuD,QAAQ/C,IAAR,CAAa,KAAb,CAAX;aAAV,EAA0CA,IAA1C,CAA+C,SAA/C,CAHG,EAKH,eALG,EAMLA,IANK,CAMA,IANA,CAAP;;;;EAnHqBuB,SAA7B;;ACtCA,SAASqC,iBAAT,CAA2B1D,KAA3B,EAAkC;QAC1BA,SAAS,IAAb,EAAmB,OAAO,IAAP;;QAEf,CAAC,CAACsB,OAAD,EAAUH,IAAV,EAAgBC,IAAhB,EAAsBT,QAAtB,CAA+BX,MAAM7B,IAArC,CAAL,EAAiD;YACzCC,qBAAY4B,MAAM5B,KAAlB,IAAyBC,UAAU2B,MAAM3B,QAAzC,GAAJ;;YAEI,YAAY2B,MAAM7B,IAAN,CAAWwF,SAA3B,EAAsC;mBAC3BD,kBAAkB,IAAI1D,MAAM7B,IAAV,CAAeC,KAAf,EAAsBwF,MAAtB,EAAlB,CAAP;SADJ,MAEO;mBACIF,kBAAkB1D,MAAM7B,IAAN,CAAWC,KAAX,CAAlB,CAAP;;;;wBAKD4B,KADP;kBAEcA,MAAM3B,QAAN,CAAeiB,GAAf,CAAmB;mBAAKoE,kBAAkBxC,CAAlB,CAAL;SAAnB;;;;AAIlB,AAAO,SAAS2C,eAAT,CAAyB7D,KAAzB,EAA0D;QAA1B0C,OAA0B,uEAAhB,EAAgB;QAAZzC,EAAY,uEAAP,KAAO;;QACzD6D,cAAcJ,kBAAkB1D,KAAlB,CAAlB;;QAEI8D,eAAe,IAAf,IAAuBA,YAAY3F,IAAZ,KAAqBmD,OAAhD,EACI,OAAO,IAAP;;WAEG,IAAIA,OAAJ,cACAwC,YAAY1F,KADZ;YAEC6B,OAAO,CAAC,CAAC6D,YAAY1F,KAAZ,CAAkB6B,EAF5B;eAGIyC,QAAQW,KAAR,GAAgBX,QAAQW,KAAxB,GAAgC,KAHpC;kBAIOS,YAAYzF;OAJ1B;;;AAQJ,AAAO,SAASuF,MAAT,CAAgB5D,KAAhB,EAAiD;QAA1B0C,OAA0B,uEAAhB,EAAgB;QAAZzC,EAAY,uEAAP,KAAO;;WAC7C4D,gBAAgB7D,KAAhB,EAAuB0C,OAAvB,EAAgCzC,EAAhC,EAAoC2D,MAApC,EAAP;;;AAGJ,AAAO,SAASG,QAAT,CAAkB/D,KAAlB,EAAuC;QAAd0C,OAAc,uEAAJ,EAAI;;WACnCkB,OAAO5D,KAAP,EAAc0C,OAAd,EAAuB,IAAvB,CAAP;;;;;;;;;;;;"}